<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>رصيدك</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #000, #222);
      color: #fff;
      transition: background 0.3s, color 0.3s;
    }
    #splash {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100vh;
      background-color: #000;
      display: flex; align-items: center; justify-content: center;
      font-size: 28px; font-weight: bold;
      z-index: 9999;
    }
    nav {
      background: #111;
      display: flex;
      justify-content: space-around;
      padding: 10px;
    }
    nav a {
      color: #fff; text-decoration: none;
      font-size: 14px;
      padding: 6px 10px;
      border-radius: 6px;
      transition: 0.3s;
    }
    nav a:hover { background: #444; }
    .container { padding: 20px; text-align: center; }
    .balance-box {
      background: #333;
      padding: 20px;
      border-radius: 10px;
      margin: 15px auto;
      font-size: 20px;
      max-width: 320px;
    }
    input[type="text"] {
      padding: 10px;
      width: 80%;
      border-radius: 8px;
      border: none;
      margin: 10px 0;
      font-size: 16px;
    }
    button {
      padding: 10px 20px;
      background-color: #444;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 16px;
      cursor: pointer;
      margin: 5px;
      transition: 0.3s;
    }
    button:hover { background-color: #666; }
    #datetime {
      margin-top: 10px;
      font-size: 14px;
      color: #ccc;
    }
    .toggle-mode {
      position: fixed;
      bottom: 10px;
      left: 10px;
      background: #222;
      padding: 5px 10px;
      border-radius: 8px;
      font-size: 12px;
      cursor: pointer;
    }
  </style>
</head>
<body>
<div id="splash">جاري التحميل...</div>
<nav>
  <a href="#">الرئيسية</a>
  <a href="#balance">رصيدك</a>
  <a href="https://www.instagram.com/cv7.h?igsh=N2J1MnVvcHVrcGJ3" target="_blank">تواصل معنا</a>
  <a href="https://www.instagram.com/cv7.h?igsh=N2J1MnVvcHVrcGJ3" target="_blank">إبلاغ عن مشكلة</a>
</nav>
<div class="container">
  <div class="balance-box">
    <div style="font-size: 22px; margin-bottom: 10px;">رصيدك</div>
    <div style="font-size: 24px; font-weight: bold;" id="balance">0000000000</div>
  </div>
  <input type="text" id="codeInput" placeholder="جرب الرصيد">
  <br>
  <button onclick="tryCode()">تحقق</button>
  <button onclick="shareBalance()">مشاركة رصيدك</button>
  <p id="result"></p>
  <div id="datetime"></div>
</div>
<div class="toggle-mode" onclick="toggleMode()">تغيير الوضع</div>

<script>
  function generateRandomBalance() {
    const digits = '0123456789';
    let result = '';
    for (let i = 0; i < 10; i++) {
      result += digits.charAt(Math.floor(Math.random() * digits.length));
    }
    return result;
  }

  window.onload = () => {
    setTimeout(() => {
      document.getElementById('splash').style.display = 'none';
    }, 2000);

    let saved = localStorage.getItem('balance');
    if (saved) {
      document.getElementById('balance').textContent = saved;
    } else {
      let random = generateRandomBalance();
      localStorage.setItem('balance', random);
      document.getElementById('balance').textContent = random;
    }

    updateDateTime();
    setInterval(updateDateTime, 1000);
  };

  function tryCode() {
    const correctCode = "0837199992";
    const input = document.getElementById('codeInput').value;
    const result = document.getElementById('result');

    if (input === correctCode) {
      result.textContent = "صحيح!";
      result.style.color = "#0f0";
    } else {
      result.textContent = "غلط!";
      result.style.color = "#f00";
    }
  }

  function shareBalance() {
    const bal = document.getElementById('balance').textContent;
    const shareText = `رصيدي بالموقع هو ${bal} سنت! جربه هسه.`;
    if (navigator.share) {
      navigator.share({ text: shareText });
    } else {
      alert("انسخ النص وشاركه: " + shareText);
    }
  }

  function updateDateTime() {
    const now = new Date();
    const datetime = now.toLocaleString('ar-EG');
    document.getElementById('datetime').textContent = datetime;
  }

  function toggleMode() {
    const body = document.body;
    if (body.style.background.includes("#fff")) {
      body.style.background = "linear-gradient(135deg, #000, #222)";
      body.style.color = "#fff";
    } else {
      body.style.background = "#fff";
      body.style.color = "#000";
    }
  }
</script>
</body>
</html>
